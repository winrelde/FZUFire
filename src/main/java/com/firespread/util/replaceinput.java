package com.firespread.util;

import org.springframework.stereotype.Component;

import java.io.File;
import java.io.FileWriter;
import java.io.IOException;

/**
 * @description: 替换文件
 * @author: DelucaWu
 * @createDate: 2022/8/2 11:27
 */
@Component
public class replaceinput {
    public void rewritefd(String inputpath, String zh) throws IOException {

        String v0 = "1",v1 = "1", v2 = "1", v3 = "1", v4 = "1", v5 = "1";
        String d0 = "10", d1 = "10", d2 = "10", d3 = "10", d4 = "10", d5 = "10";
        loadwinddata loadwinddata = new loadwinddata();
        String windsndata = loadwinddata.loadwinddatafd(zh);
        String substring = windsndata.substring(0, windsndata.length()-1);
        String[] result = substring.split(",");
        v0=result[0];v1=result[2];v2=result[4];v3=result[6];v4=result[8];v5=result[10];
        d0=result[1];d1=result[3];d2=result[5];d3=result[7];d4=result[9];d5=result[11];

        File inputFile = new File(inputpath);
        FileWriter inputWriter = new FileWriter(inputFile);
        inputWriter.write("FARSITE INPUTS FILE VERSION 1.0 produced by Stu\n");
        inputWriter.write("FARSITE_START_TIME:06 24 0000\n");
        inputWriter.write("FARSITE_END_TIME:06 24 1100\nFARSITE_TIMESTEP:60\nFARSITE_DISTANCE_RES:30.0\nFARSITE_PERIMETER_RES:60.0\n" +
                "FARSITE_SPOT_PROBABILITY:0.01\nFARSITE_SPOT_IGNITION_DELAY:0\nFARSITE_MINIMUM_SPOT_DISTANCE:30\nFARSITE_ACCELERATION_ON:1\n" +
                "FARSITE_BURN_PERIODS:1\n06 24 0000 2400\n");
        inputWriter.write("FARSITE_MINIMUM_SPOT_DISTANCE: 60.0\n" +
                "FARSITE_IGNITION_FILE:.\\point_180.shp\n" +
                "FUEL_MOISTURES_DATA:1\n" +
                "0 3 4 8 9 70\n" +
                "WEATHER_DATA:6\n" +
                "6 22 0 400 1500 35 79 43 9 500 0 0\n" +
                "6 23 0 500 1600 35 84 53 3 500 0 0\n" +
                "6 24 0 300 1500 40 85 35 4 500 0 0\n" +
                "6 25 5 500 1500 47 79 56 21 500 1500 1600\n" +
                "6 26 0 500 1500 38 80 73 6 500 0 0\n" +
                "6 27 0 400 1300 41 84 58 8 500 0 0\n" +
                "WEATHER_DATA_UNITS:English\n" +
                "WIND_DATA:144\n" +
                "6 22 0 10 90 0\n" +
                "6 22 100 10 90 0\n" +
                "6 22 200 10 90 0\n" +
                "6 22 300 10 90 0\n" +
                "6 22 400 10 90 0\n" +
                "6 22 500 10 90 0\n" +
                "6 22 600 10 90 0\n" +
                "6 22 700 10 90 0\n" +
                "6 22 800 10 90 0\n" +
                "6 22 900 10 90 0\n" +
                "6 22 1000 10 90 0\n" +
                "6 22 1100 10 90 0\n" +
                "6 22 1200 10 90 0\n" +
                "6 22 1300 10 90 0\n" +
                "6 22 1400 10 90 0\n" +
                "6 22 1500 10 90 0\n" +
                "6 22 1600 10 90 0\n" +
                "6 22 1700 10 90 0\n" +
                "6 22 1800 10 90 0\n" +
                "6 22 1900 10 90 0\n" +
                "6 22 2000 10 90 0\n" +
                "6 22 2100 10 90 0\n" +
                "6 22 2200 10 90 0\n" +
                "6 22 2300 10 90 0\n" +
                "6 23 0 10 90 0\n" +
                "6 23 100 10 90 0\n" +
                "6 23 200 10 90 0\n" +
                "6 23 300 10 90 0\n" +
                "6 23 400 10 90 0\n" +
                "6 23 500 10 90 0\n" +
                "6 23 600 10 90 0\n" +
                "6 23 700 10 90 0\n" +
                "6 23 800 10 90 0\n" +
                "6 23 900 10 90 0\n" +
                "6 23 1000 10 90 0\n" +
                "6 23 1100 10 90 0\n" +
                "6 23 1200 10 90 0\n" +
                "6 23 1300 10 90 0\n" +
                "6 23 1400 10 90 0\n" +
                "6 23 1500 10 90 0\n" +
                "6 23 1600 10 90 0\n" +
                "6 23 1700 10 90 0\n" +
                "6 23 1800 10 90 0\n" +
                "6 23 1900 10 90 0\n" +
                "6 23 2000 10 90 0\n" +
                "6 23 2100 10 90 0\n" +
                "6 23 2200 10 90 0\n" +
                "6 23 2300 10 90 0\n" +
                "6 24 0 " + v0 + " " + d0 + " 0\n" +
                "6 24 100 " + v1 + " " + d1 + " 0\n" +
                "6 24 200 " + v2 + " " + d2 + " 0\n" +
                "6 24 300 " + v3 + " " + d3 + " 0\n" +
                "6 24 400 " + v4 + " " + d4 + " 0\n" +
                "6 24 500 " + v5 + " " + d5 + " 0\n" +
                "6 24 600 5 90 0\n" +
                "6 24 700 5 90 0\n" +
                "6 24 800 5 90 0\n" +
                "6 24 900 5 90 0\n" +
                "6 24 1000 5 90 0\n" +
                "6 24 1100 5 90 0\n" +
                "6 24 1200 5 90 0\n" +
                "6 24 1300 5 90 0\n" +
                "6 24 1400 5 90 0\n" +
                "6 24 1500 5 90 0\n" +
                "6 24 1600 5 90 0\n" +
                "6 24 1700 5 90 0\n" +
                "6 24 1800 5 90 0\n" +
                "6 24 1900 5 90 0\n" +
                "6 24 2000 5 90 0\n" +
                "6 24 2100 5 90 0\n" +
                "6 24 2200 5 90 0\n" +
                "6 24 2300 5 90 0\n" +
                "6 25 0 5 90 0\n" +
                "6 25 100 5 90 0\n" +
                "6 25 200 5 90 0\n" +
                "6 25 300 5 90 0\n" +
                "6 25 400 5 90 0\n" +
                "6 25 500 5 90 0\n" +
                "6 25 600 5 90 0\n" +
                "6 25 700 5 90 0\n" +
                "6 25 800 5 90 0\n" +
                "6 25 900 5 90 0\n" +
                "6 25 1000 5 90 0\n" +
                "6 25 1100 5 90 0\n" +
                "6 25 1200 5 90 0\n" +
                "6 25 1300 5 90 0\n" +
                "6 25 1400 5 90 0\n" +
                "6 25 1500 5 90 0\n" +
                "6 25 1600 5 90 0\n" +
                "6 25 1700 10 90 0\n" +
                "6 25 1800 10 90 0\n" +
                "6 25 1900 10 90 0\n" +
                "6 25 2000 10 90 0\n" +
                "6 25 2100 10 90 0\n" +
                "6 25 2200 10 90 0\n" +
                "6 25 2300 10 90 0\n" +
                "6 26 0 10 90 0\n" +
                "6 26 100 10 90 0\n" +
                "6 26 200 10 90 0\n" +
                "6 26 300 10 90 0\n" +
                "6 26 400 10 90 0\n" +
                "6 26 500 10 90 0\n" +
                "6 26 600 10 90 0\n" +
                "6 26 700 10 90 0\n" +
                "6 26 800 10 90 0\n" +
                "6 26 900 10 90 0\n" +
                "6 26 1000 10 90 0\n" +
                "6 26 1100 10 90 0\n" +
                "6 26 1200 10 90 0\n" +
                "6 26 1300 10 90 0\n" +
                "6 26 1400 10 90 0\n" +
                "6 26 1500 10 90 0\n" +
                "6 26 1600 10 90 0\n" +
                "6 26 1700 10 90 0\n" +
                "6 26 1800 10 90 0\n" +
                "6 26 1900 10 90 0\n" +
                "6 26 2000 10 90 0\n" +
                "6 26 2100 10 90 0\n" +
                "6 26 2200 10 90 0\n" +
                "6 26 2300 10 90 0\n" +
                "6 27 0 10 90 0\n" +
                "6 27 100 10 90 0\n" +
                "6 27 200 10 90 0\n" +
                "6 27 300 10 90 0\n" +
                "6 27 400 10 90 0\n" +
                "6 27 500 10 90 0\n" +
                "6 27 600 10 90 0\n" +
                "6 27 700 10 90 0\n" +
                "6 27 800 10 90 0\n" +
                "6 27 900 10 90 0\n" +
                "6 27 1000 10 90 0\n" +
                "6 27 1100 10 90 0\n" +
                "6 27 1200 10 90 0\n" +
                "6 27 1300 10 90 0\n" +
                "6 27 1400 10 90 0\n" +
                "6 27 1500 10 90 0\n" +
                "6 27 1600 10 90 0\n" +
                "6 27 1700 10 90 0\n" +
                "6 27 1800 10 90 0\n" +
                "6 27 1900 10 90 0\n" +
                "6 27 2000 10 90 0\n" +
                "6 27 2100 10 90 0\n" +
                "6 27 2200 10 90 0\n" +
                "6 27 2300 10 90 0\n" +
                "WIND_DATA_UNITS:English\n" +
                "FARSITE_ATM_FILE: AtmTest_90m.atm\n" +
                "FOLIAR_MOISTURE_CONTENT:100\n" +
                "CROWN_FIRE_METHOD:Finney\n");
        inputWriter.flush();
        inputWriter.close();
    }

    public void rewritesn(String inputfile, String zh) throws IOException {

        String v0 = "1",v1 = "1", v2 = "1", v3 = "1", v4 = "1", v5 = "1";
        String d0 = "10", d1 = "10", d2 = "10", d3 = "10", d4 = "10", d5 = "10";
        loadwinddata loadwinddata = new loadwinddata();
        String windsndata = loadwinddata.loadwinddatasn(zh);
        String substring = windsndata.substring(0, windsndata.length()-1);
        String[] result = substring.split(",");
        v0=result[0];v1=result[2];v2=result[4];v3=result[6];v4=result[8];v5=result[10];
        d0=result[1];d1=result[3];d2=result[5];d3=result[7];d4=result[9];d5=result[11];

        File inputFile = new File(inputfile);
        FileWriter inputWriter = new FileWriter(inputFile);
        inputWriter.write("FARSITE INPUTS FILE VERSION 1.0 produced by Stu\n");
        inputWriter.write("FARSITE_START_TIME:06 24 0000\n");
        inputWriter.write("FARSITE_END_TIME:06 24 1100\nFARSITE_TIMESTEP:60\nFARSITE_DISTANCE_RES:30.0\nFARSITE_PERIMETER_RES:60.0\n" +
                "FARSITE_SPOT_PROBABILITY:0.01\nFARSITE_SPOT_IGNITION_DELAY:0\nFARSITE_MINIMUM_SPOT_DISTANCE:30\nFARSITE_ACCELERATION_ON:1\n" +
                "FARSITE_BURN_PERIODS:1\n06 24 0000 2400\n");
        inputWriter.write("FARSITE_MINIMUM_SPOT_DISTANCE: 60.0\n" +
                "FARSITE_IGNITION_FILE:.\\point_180.shp\n" +
                "FUEL_MOISTURES_DATA:1\n" +
                "0 3 4 8 9 70\n" +
                "WEATHER_DATA:6\n" +
                "6 22 0 400 1500 35 79 43 9 500 0 0\n" +
                "6 23 0 500 1600 35 84 53 3 500 0 0\n" +
                "6 24 0 300 1500 40 85 35 4 500 0 0\n" +
                "6 25 5 500 1500 47 79 56 21 500 1500 1600\n" +
                "6 26 0 500 1500 38 80 73 6 500 0 0\n" +
                "6 27 0 400 1300 41 84 58 8 500 0 0\n" +
                "WEATHER_DATA_UNITS:English\n" +
                "WIND_DATA:144\n" +
                "6 22 0 10 90 0\n" +
                "6 22 100 10 90 0\n" +
                "6 22 200 10 90 0\n" +
                "6 22 300 10 90 0\n" +
                "6 22 400 10 90 0\n" +
                "6 22 500 10 90 0\n" +
                "6 22 600 10 90 0\n" +
                "6 22 700 10 90 0\n" +
                "6 22 800 10 90 0\n" +
                "6 22 900 10 90 0\n" +
                "6 22 1000 10 90 0\n" +
                "6 22 1100 10 90 0\n" +
                "6 22 1200 10 90 0\n" +
                "6 22 1300 10 90 0\n" +
                "6 22 1400 10 90 0\n" +
                "6 22 1500 10 90 0\n" +
                "6 22 1600 10 90 0\n" +
                "6 22 1700 10 90 0\n" +
                "6 22 1800 10 90 0\n" +
                "6 22 1900 10 90 0\n" +
                "6 22 2000 10 90 0\n" +
                "6 22 2100 10 90 0\n" +
                "6 22 2200 10 90 0\n" +
                "6 22 2300 10 90 0\n" +
                "6 23 0 10 90 0\n" +
                "6 23 100 10 90 0\n" +
                "6 23 200 10 90 0\n" +
                "6 23 300 10 90 0\n" +
                "6 23 400 10 90 0\n" +
                "6 23 500 10 90 0\n" +
                "6 23 600 10 90 0\n" +
                "6 23 700 10 90 0\n" +
                "6 23 800 10 90 0\n" +
                "6 23 900 10 90 0\n" +
                "6 23 1000 10 90 0\n" +
                "6 23 1100 10 90 0\n" +
                "6 23 1200 10 90 0\n" +
                "6 23 1300 10 90 0\n" +
                "6 23 1400 10 90 0\n" +
                "6 23 1500 10 90 0\n" +
                "6 23 1600 10 90 0\n" +
                "6 23 1700 10 90 0\n" +
                "6 23 1800 10 90 0\n" +
                "6 23 1900 10 90 0\n" +
                "6 23 2000 10 90 0\n" +
                "6 23 2100 10 90 0\n" +
                "6 23 2200 10 90 0\n" +
                "6 23 2300 10 90 0\n" +
                "6 24 0 " + v0 + " " + d0 + " 0\n" +
                "6 24 100 " + v1 + " " + d1 + " 0\n" +
                "6 24 200 " + v2 + " " + d2 + " 0\n" +
                "6 24 300 " + v3 + " " + d3 + " 0\n" +
                "6 24 400 " + v4 + " " + d4 + " 0\n" +
                "6 24 500 " + v5 + " " + d5 + " 0\n" +
                "6 24 600 5 90 0\n" +
                "6 24 700 5 90 0\n" +
                "6 24 800 5 90 0\n" +
                "6 24 900 5 90 0\n" +
                "6 24 1000 5 90 0\n" +
                "6 24 1100 5 90 0\n" +
                "6 24 1200 5 90 0\n" +
                "6 24 1300 5 90 0\n" +
                "6 24 1400 5 90 0\n" +
                "6 24 1500 5 90 0\n" +
                "6 24 1600 5 90 0\n" +
                "6 24 1700 5 90 0\n" +
                "6 24 1800 5 90 0\n" +
                "6 24 1900 5 90 0\n" +
                "6 24 2000 5 90 0\n" +
                "6 24 2100 5 90 0\n" +
                "6 24 2200 5 90 0\n" +
                "6 24 2300 5 90 0\n" +
                "6 25 0 5 90 0\n" +
                "6 25 100 5 90 0\n" +
                "6 25 200 5 90 0\n" +
                "6 25 300 5 90 0\n" +
                "6 25 400 5 90 0\n" +
                "6 25 500 5 90 0\n" +
                "6 25 600 5 90 0\n" +
                "6 25 700 5 90 0\n" +
                "6 25 800 5 90 0\n" +
                "6 25 900 5 90 0\n" +
                "6 25 1000 5 90 0\n" +
                "6 25 1100 5 90 0\n" +
                "6 25 1200 5 90 0\n" +
                "6 25 1300 5 90 0\n" +
                "6 25 1400 5 90 0\n" +
                "6 25 1500 5 90 0\n" +
                "6 25 1600 5 90 0\n" +
                "6 25 1700 10 90 0\n" +
                "6 25 1800 10 90 0\n" +
                "6 25 1900 10 90 0\n" +
                "6 25 2000 10 90 0\n" +
                "6 25 2100 10 90 0\n" +
                "6 25 2200 10 90 0\n" +
                "6 25 2300 10 90 0\n" +
                "6 26 0 10 90 0\n" +
                "6 26 100 10 90 0\n" +
                "6 26 200 10 90 0\n" +
                "6 26 300 10 90 0\n" +
                "6 26 400 10 90 0\n" +
                "6 26 500 10 90 0\n" +
                "6 26 600 10 90 0\n" +
                "6 26 700 10 90 0\n" +
                "6 26 800 10 90 0\n" +
                "6 26 900 10 90 0\n" +
                "6 26 1000 10 90 0\n" +
                "6 26 1100 10 90 0\n" +
                "6 26 1200 10 90 0\n" +
                "6 26 1300 10 90 0\n" +
                "6 26 1400 10 90 0\n" +
                "6 26 1500 10 90 0\n" +
                "6 26 1600 10 90 0\n" +
                "6 26 1700 10 90 0\n" +
                "6 26 1800 10 90 0\n" +
                "6 26 1900 10 90 0\n" +
                "6 26 2000 10 90 0\n" +
                "6 26 2100 10 90 0\n" +
                "6 26 2200 10 90 0\n" +
                "6 26 2300 10 90 0\n" +
                "6 27 0 10 90 0\n" +
                "6 27 100 10 90 0\n" +
                "6 27 200 10 90 0\n" +
                "6 27 300 10 90 0\n" +
                "6 27 400 10 90 0\n" +
                "6 27 500 10 90 0\n" +
                "6 27 600 10 90 0\n" +
                "6 27 700 10 90 0\n" +
                "6 27 800 10 90 0\n" +
                "6 27 900 10 90 0\n" +
                "6 27 1000 10 90 0\n" +
                "6 27 1100 10 90 0\n" +
                "6 27 1200 10 90 0\n" +
                "6 27 1300 10 90 0\n" +
                "6 27 1400 10 90 0\n" +
                "6 27 1500 10 90 0\n" +
                "6 27 1600 10 90 0\n" +
                "6 27 1700 10 90 0\n" +
                "6 27 1800 10 90 0\n" +
                "6 27 1900 10 90 0\n" +
                "6 27 2000 10 90 0\n" +
                "6 27 2100 10 90 0\n" +
                "6 27 2200 10 90 0\n" +
                "6 27 2300 10 90 0\n" +
                "WIND_DATA_UNITS:English\n" +
                "FARSITE_ATM_FILE: AtmTest_90m.atm\n" +
                "FOLIAR_MOISTURE_CONTENT:100\n" +
                "CROWN_FIRE_METHOD:Finney\n");
        inputWriter.flush();
        inputWriter.close();
    }
}
